---
alwaysApply: true
description: Development environment setup and package management guidelines
---

# 开发环境配置

## 包管理器
- **必须使用**: pnpm (而非 npm 或 yarn)
- 安装依赖: `pnpm install`
- 添加依赖: `pnpm add <package>`
- 开发依赖: `pnpm add -D <package>`

## 环境变量
必需的环境变量 (在 .env.local 中配置):
```env
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key
NEXT_PUBLIC_GOOGLE_MAP_ID=your_google_map_id
```

## 开发命令
- 启动开发服务器: `pnpm dev`
- 构建项目: `pnpm build`
- 启动生产服务器: `pnpm start`

## Google Maps API 设置
1. 在 Google Cloud Console 创建项目
2. 启用 Maps JavaScript API 和 Geocoding API
3. 创建 API 密钥并设置域名限制
4. **创建 Map ID**（用于州边界热力图）:
   - 进入 "Maps Management" → "Map IDs"
   - 点击 "CREATE MAP ID"
   - 选择 "JavaScript" 地图类型
   - 在 "Configure map features" 中启用 "Administrative Area Level 1"
   - 保存并复制 Map ID
5. 将 API 密钥和 Map ID 添加到环境变量中

## 后端开发
- 后端使用 Python + FastAPI
- 依赖管理: [requirements.txt](mdc:backend/requirements.txt)
- 主要文件: [backend/main.py](mdc:backend/main.py), [backend/models.py](mdc:backend/models.py)