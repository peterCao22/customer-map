# å®¢æˆ·åœ°å€ç®¡ç†ç³»ç»Ÿ

åŸºäº Google Maps API çš„å®¢æˆ·åœ°å€æ ‡æ³¨å’Œç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒåœ°å›¾å¯è§†åŒ–ã€æœç´¢è¿‡æ»¤å’Œå®¢æˆ·ä¿¡æ¯ç®¡ç†ã€‚

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Next.js 14 (App Router) å’Œ TypeScript æ„å»ºçš„ç°ä»£åŒ–å®¢æˆ·åœ°å€ç®¡ç†åº”ç”¨ã€‚ç³»ç»Ÿé›†æˆäº† Google Maps JavaScript APIï¼Œæä¾›ç›´è§‚çš„åœ°å›¾ç•Œé¢æ¥å±•ç¤ºå’Œç®¡ç†å®¢æˆ·åœ°å€ä¿¡æ¯ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS v4 + shadcn/ui
- **åœ°å›¾**: Google Maps JavaScript API
- **å­—ä½“**: Geist Sans & Geist Mono
- **å›¾æ ‡**: Lucide React

## é¡¹ç›®ç»“æ„

\`\`\`
â”œâ”€â”€ backend/          #python åç«¯ä»£ç 
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ page.tsx            # ä¸»é¡µé¢
â”‚   â””â”€â”€ globals.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ customer-map-view.tsx    # ä¸»è§†å›¾ç»„ä»¶
â”‚   â”œâ”€â”€ google-map.tsx           # Google Maps ç»„ä»¶
â”‚   â”œâ”€â”€ customer-search.tsx      # æœç´¢è¿‡æ»¤ç»„ä»¶
â”‚   â”œâ”€â”€ customer-list.tsx        # å®¢æˆ·åˆ—è¡¨ç»„ä»¶
â”‚   â””â”€â”€ ui/                      # shadcn/ui ç»„ä»¶åº“
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-mobile.tsx          # ç§»åŠ¨ç«¯æ£€æµ‹
â”‚   â””â”€â”€ use-toast.ts            # Toast é€šçŸ¥
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils.ts                # å·¥å…·å‡½æ•°
â””â”€â”€ types/
    â””â”€â”€ customer.ts             # ç±»å‹å®šä¹‰
\`\`\`

## æ ¸å¿ƒç»„ä»¶

### 1. CustomerMapView (ä¸»è§†å›¾ç»„ä»¶)
- **æ–‡ä»¶**: `components/customer-map-view.tsx`
- **åŠŸèƒ½**: 
  - ç®¡ç†å®¢æˆ·æ•°æ®çŠ¶æ€
  - å¤„ç†æœç´¢å’Œè¿‡æ»¤é€»è¾‘
  - åè°ƒåœ°å›¾å’Œä¾§è¾¹æ äº¤äº’
  - å“åº”å¼å¸ƒå±€æ§åˆ¶

### 2. GoogleMap (åœ°å›¾ç»„ä»¶)
- **æ–‡ä»¶**: `components/google-map.tsx`
- **åŠŸèƒ½**:
  - é›†æˆ Google Maps JavaScript API
  - æ¸²æŸ“å®¢æˆ·åœ°å€æ ‡è®°
  - æ˜¾ç¤ºä¿¡æ¯çª—å£
  - è‡ªåŠ¨è°ƒæ•´åœ°å›¾è§†å›¾èŒƒå›´

### 3. CustomerSearch (æœç´¢ç»„ä»¶)
- **æ–‡ä»¶**: `components/customer-search.tsx`
- **åŠŸèƒ½**:
  - å®æ—¶æœç´¢å®¢æˆ·ä¿¡æ¯
  - æ ‡ç­¾è¿‡æ»¤åŠŸèƒ½
  - æœç´¢æ¡ä»¶ç®¡ç†

### 4. CustomerList (å®¢æˆ·åˆ—è¡¨ç»„ä»¶)
- **æ–‡ä»¶**: `components/customer-list.tsx`
- **åŠŸèƒ½**:
  - æ˜¾ç¤ºè¿‡æ»¤åçš„å®¢æˆ·åˆ—è¡¨
  - å®¢æˆ·é€‰æ‹©å’Œé«˜äº®
  - å®¢æˆ·è¯¦ç»†ä¿¡æ¯å±•ç¤º

## æ•°æ®ç»“æ„

### Customer æ¥å£
\`\`\`typescript
interface Customer {
  id: string           // å®¢æˆ·å”¯ä¸€æ ‡è¯†
  name: string         // å®¢æˆ·å§“å
  email: string        // é‚®ç®±åœ°å€
  phone: string        // ç”µè¯å·ç 
  address: string      // è¯¦ç»†åœ°å€
  lat: number          // çº¬åº¦
  lng: number          // ç»åº¦
  company?: string     // å…¬å¸åç§°ï¼ˆå¯é€‰ï¼‰
  tags: string[]       // æ ‡ç­¾æ•°ç»„
  createdAt: Date      // åˆ›å»ºæ—¶é—´
}
\`\`\`

## ä¸»è¦åŠŸèƒ½

### ğŸ—ºï¸ åœ°å›¾å¯è§†åŒ–
- åœ¨ Google Maps ä¸Šæ˜¾ç¤ºæ‰€æœ‰å®¢æˆ·åœ°å€æ ‡è®°
- ç‚¹å‡»æ ‡è®°æ˜¾ç¤ºå®¢æˆ·è¯¦ç»†ä¿¡æ¯
- è‡ªåŠ¨è°ƒæ•´åœ°å›¾è§†å›¾åŒ…å«æ‰€æœ‰æ ‡è®°
- æ”¯æŒåœ°å›¾ç¼©æ”¾å’Œæ‹–æ‹½æ“ä½œ

### ğŸ” æœç´¢è¿‡æ»¤
- **æ–‡æœ¬æœç´¢**: æ”¯æŒæŒ‰å§“åã€é‚®ç®±ã€å…¬å¸ã€åœ°å€æœç´¢
- **æ ‡ç­¾è¿‡æ»¤**: æ”¯æŒå¤šæ ‡ç­¾ç»„åˆè¿‡æ»¤
- **å®æ—¶æ›´æ–°**: æœç´¢ç»“æœå®æ—¶åæ˜ åœ¨åœ°å›¾å’Œåˆ—è¡¨ä¸­

### ğŸ“± å“åº”å¼è®¾è®¡
- ç§»åŠ¨ç«¯å‹å¥½çš„å“åº”å¼å¸ƒå±€
- å¯æŠ˜å çš„ä¾§è¾¹æ è®¾è®¡
- è§¦æ‘¸å‹å¥½çš„äº¤äº’å…ƒç´ 

### ğŸ¨ ç°ä»£åŒ–UI
- åŸºäº shadcn/ui çš„ç»„ä»¶ç³»ç»Ÿ
- æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- ä¸€è‡´çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’ä½“éªŒ

## ç¯å¢ƒé…ç½®

### å¿…éœ€çš„ç¯å¢ƒå˜é‡
\`\`\`env
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key
\`\`\`

### Google Maps API é…ç½®
1. åœ¨ Google Cloud Console åˆ›å»ºé¡¹ç›®
2. å¯ç”¨ Maps JavaScript API
3. åˆ›å»º API å¯†é’¥å¹¶è®¾ç½®é™åˆ¶ï¼š
   - **åº”ç”¨ç¨‹åºé™åˆ¶**: HTTP å¼•ç”¨ç«™ç‚¹
   - **API é™åˆ¶**: Maps JavaScript API
   - **åŸŸåé™åˆ¶**: æ·»åŠ æ‚¨çš„åŸŸå

## å¦‚ä½•è¿è¡Œ

### å‰ç½®è¦æ±‚
- Node.js 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn åŒ…ç®¡ç†å™¨
- Google Maps API å¯†é’¥

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   \`\`\`bash
   git clone <repository-url>
   cd customer-address-map
   \`\`\`

2. **å®‰è£…ä¾èµ–**
   \`\`\`bash
   npm install
   # æˆ–
   yarn install
   \`\`\`

3. **é…ç½®ç¯å¢ƒå˜é‡**
   
   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š
   \`\`\`env
   NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_actual_api_key_here
   \`\`\`
   
   æˆ–åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ã€‚

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   \`\`\`bash
   npm run dev
   # æˆ–
   yarn dev
   \`\`\`

5. **è®¿é—®åº”ç”¨**
   
   æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

### æ„å»ºå’Œéƒ¨ç½²

#### æœ¬åœ°æ„å»º
\`\`\`bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
\`\`\`

#### éƒ¨ç½²åˆ° Vercel
1. å°†ä»£ç æ¨é€åˆ° GitHub ä»“åº“
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. åœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`
4. éƒ¨ç½²å®Œæˆåå³å¯è®¿é—®

#### éƒ¨ç½²åˆ°å…¶ä»–å¹³å°
- **Netlify**: æ”¯æŒ Next.js é™æ€å¯¼å‡º
- **Docker**: å¯ä½¿ç”¨ Next.js å®˜æ–¹ Docker é•œåƒ
- **ä¼ ç»ŸæœåŠ¡å™¨**: éœ€è¦ Node.js è¿è¡Œç¯å¢ƒ

### å¼€å‘æ¨¡å¼åŠŸèƒ½
- çƒ­é‡è½½ (Hot Reload)
- TypeScript ç±»å‹æ£€æŸ¥
- ESLint ä»£ç æ£€æŸ¥
- è‡ªåŠ¨æ ¼å¼åŒ–

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜
1. **åœ°å›¾ä¸æ˜¾ç¤º**
   - æ£€æŸ¥ Google Maps API å¯†é’¥æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ API å¯†é’¥å·²å¯ç”¨ Maps JavaScript API
   - æ£€æŸ¥åŸŸåé™åˆ¶è®¾ç½®

2. **ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ**
   - ç¡®ä¿å˜é‡åä»¥ `NEXT_PUBLIC_` å¼€å¤´
   - é‡å¯å¼€å‘æœåŠ¡å™¨
   - æ£€æŸ¥ `.env.local` æ–‡ä»¶ä½ç½®

3. **æ„å»ºå¤±è´¥**
   - æ¸…é™¤ç¼“å­˜ï¼š`rm -rf .next`
   - é‡æ–°å®‰è£…ä¾èµ–ï¼š`rm -rf node_modules && npm install`
   - æ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯

4. **ä¾èµ–å®‰è£…é”™è¯¯ (ERESOLVE)**
   - å¦‚æœé‡åˆ° React ç‰ˆæœ¬å†²çªï¼Œä½¿ç”¨ï¼š`npm install --legacy-peer-deps`
   - æˆ–è€…åˆ é™¤ `package-lock.json` åé‡æ–°å®‰è£…ï¼š`rm package-lock.json && npm install`
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½æ”¯æŒå½“å‰ React ç‰ˆæœ¬

#### è°ƒè¯•æŠ€å·§
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ
- ä½¿ç”¨ React Developer Tools è°ƒè¯•ç»„ä»¶çŠ¶æ€

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ
1. **æŸ¥çœ‹å®¢æˆ·**: ç³»ç»Ÿé»˜è®¤æ˜¾ç¤ºæ‰€æœ‰å®¢æˆ·çš„åœ°å€æ ‡è®°
2. **æœç´¢å®¢æˆ·**: åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯è¿›è¡Œå®æ—¶æœç´¢
3. **æ ‡ç­¾è¿‡æ»¤**: ç‚¹å‡»æ ‡ç­¾æŒ‰é’®è¿›è¡Œåˆ†ç±»è¿‡æ»¤
4. **é€‰æ‹©å®¢æˆ·**: ç‚¹å‡»åˆ—è¡¨ä¸­çš„å®¢æˆ·æˆ–åœ°å›¾æ ‡è®°æŸ¥çœ‹è¯¦æƒ…
5. **åˆ‡æ¢è§†å›¾**: ä½¿ç”¨ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’®æ§åˆ¶æ˜¾ç¤º

### æœç´¢åŠŸèƒ½
- æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡æœç´¢
- æœç´¢èŒƒå›´åŒ…æ‹¬ï¼šå§“åã€é‚®ç®±ã€å…¬å¸åç§°ã€åœ°å€
- æ”¯æŒéƒ¨åˆ†åŒ¹é…å’Œæ¨¡ç³Šæœç´¢
- æœç´¢ç»“æœå®æ—¶æ›´æ–°

### è¿‡æ»¤åŠŸèƒ½
- å¤šæ ‡ç­¾ç»„åˆè¿‡æ»¤
- æ ‡ç­¾çŠ¶æ€å¯è§†åŒ–æ˜¾ç¤º
- è¿‡æ»¤ç»“æœç»Ÿè®¡æ˜¾ç¤º

## æ‰©å±•åŠŸèƒ½å»ºè®®
1. **åç«¯é›†æˆ**: è¿æ¥çœŸå®æ•°æ®åº“å’Œ API
2. **CRUD æ“ä½œ**: æ·»åŠ å®¢æˆ·å¢åˆ æ”¹åŠŸèƒ½
3. **åœ°ç†ç¼–ç **: è‡ªåŠ¨å°†åœ°å€è½¬æ¢ä¸ºåæ ‡
4. **å¯¼å…¥å¯¼å‡º**: æ”¯æŒ Excel/CSV æ•°æ®å¯¼å…¥å¯¼å‡º
5. **ç»Ÿè®¡åˆ†æ**: æ·»åŠ å®¢æˆ·åˆ†å¸ƒç»Ÿè®¡å›¾è¡¨

## æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ React.memo ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“
- å®ç°è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡å®¢æˆ·æ•°æ®
- Google Maps API æŒ‰éœ€åŠ è½½
- å›¾ç‰‡å’Œèµ„æºæ‡’åŠ è½½

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## è®¸å¯è¯

MIT License


## åç«¯ä»£ç å¼€å‘è¯´æ˜
Thought for 2sThought for 0så¯¹äºPythonåç«¯å¼€å‘ï¼Œæˆ‘æœ‰ä»¥ä¸‹å»ºè®®ï¼š

## åç«¯æ¶æ„å»ºè®®

**1. æŠ€æœ¯æ ˆé€‰æ‹©**

- **FastAPI** æˆ– **Flask**ï¼šæ¨èFastAPIï¼Œè‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£ï¼Œç±»å‹æ£€æŸ¥
- **æ•°æ®åº“**ï¼šPostgreSQLï¼ˆæ”¯æŒåœ°ç†æ•°æ®ï¼‰æˆ– MySQL
- **ORM**ï¼šSQLAlchemy æˆ– Tortoise ORM


**2. ç»çº¬åº¦è·å–æ–¹æ¡ˆ**
æ˜¯çš„ï¼Œ`lat`å’Œ`lng`éœ€è¦è°ƒç”¨Google Maps Geocoding APIè·å–ï¼š

```python
# åœ°å€ -> åæ ‡è½¬æ¢
import googlemaps

def get_coordinates(address):
    gmaps = googlemaps.Client(key='YOUR_API_KEY')
    geocode_result = gmaps.geocode(address)
    if geocode_result:
        location = geocode_result[0]['geometry']['location']
        return location['lat'], location['lng']
    return None, None
```

**3. APIè®¾è®¡å»ºè®®**

```python
# å®¢æˆ·æ•°æ®APIç«¯ç‚¹
GET /api/customers          # è·å–æ‰€æœ‰å®¢æˆ·
GET /api/customers/{id}     # è·å–å•ä¸ªå®¢æˆ·
POST /api/customers         # åˆ›å»ºå®¢æˆ·ï¼ˆè‡ªåŠ¨è·å–åæ ‡ï¼‰
PUT /api/customers/{id}     # æ›´æ–°å®¢æˆ·
DELETE /api/customers/{id}  # åˆ é™¤å®¢æˆ·
GET /api/customers/search   # æœç´¢å’Œè¿‡æ»¤
```

**4. æ•°æ®å¤„ç†æµç¨‹**

- å®¢æˆ·åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨Geocoding APIè·å–åæ ‡
- ç¼“å­˜åæ ‡ç»“æœï¼Œé¿å…é‡å¤è°ƒç”¨
- åœ°å€å˜æ›´æ—¶é‡æ–°è·å–åæ ‡
- é”™è¯¯å¤„ç†ï¼šåœ°å€æ— æ³•è§£ææ—¶çš„å¤‡é€‰æ–¹æ¡ˆ


**5. ä¸å‰ç«¯é›†æˆ**

- ä¿æŒç°æœ‰çš„å®¢æˆ·æ•°æ®ç»“æ„
- å‰ç«¯ç§»é™¤æ¨¡æ‹Ÿæ•°æ®ï¼Œæ”¹ä¸ºAPIè°ƒç”¨
- æ”¯æŒåˆ†é¡µã€æœç´¢ã€æ ‡ç­¾è¿‡æ»¤ç­‰åŠŸèƒ½